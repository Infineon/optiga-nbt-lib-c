<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hsw-nbt: Infineon Error Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">hsw-nbt<span id="projectnumber">&#160;1.1.1</span>
   </div>
   <div id="projectbrief">OPTIGA Authenticate NBT Host Library for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Infineon Error Library</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="infineon-error-library"></a> This library offers utilities to create and decode C style <code>ifx_status_t</code> error codes.</p>
<p>In complex library chains it is often difficult to track exactly where errors come from. All <b>Infineon</b> host software libraries therefore encode their errors according to the following schema:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Bits   </th><th class="markdownTableHeadNone">Information    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>31</code>   </td><td class="markdownTableBodyNone">Error indicator set to <code>1</code> in case of error    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>30-24</code>   </td><td class="markdownTableBodyNone">Library identifier (e.g. <code>0x01</code> for <code>hsw-apdu</code> library)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>23-16</code>   </td><td class="markdownTableBodyNone">Module identifier (e.g. <code>0x10</code> for <code>apdu-response</code> module)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>15-8</code>   </td><td class="markdownTableBodyNone">Function identifier in module (e.g. <code>0x03</code> for <code>ifx_apdu_response_decode</code> in <code>hsw-apdu</code> library)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>7-0</code>   </td><td class="markdownTableBodyNone">Function-specific error reason (e.g. <code>0xFE</code> out of memory).<br  />
Values between 0xF0 and 0xFF are reserved for reusable error codes defined here.   </td></tr>
</table>
<p>A return value of <code>0x811003FE</code> would therefore indicate:</p><ul>
<li>Bit <code>31</code> is set -&gt; <b>error</b>.</li>
<li>Bits <code>30-24</code> are set to <code>0x01</code> -&gt; <code>hsw-apdu</code> library</li>
<li>Bits <code>23-16</code> are set to <code>0x10</code> -&gt; <code>apdu-response</code> module</li>
<li>Bits <code>15-8</code> are set to <code>0x03</code> -&gt; <code>ifx_apdu_response_decode</code> function</li>
<li>Bits <code>7-0</code> are set to <code>0xFE</code> -&gt; <b>Out of memory</b></li>
</ul>
<h1><a class="anchor" id="example-4"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ifx-error_8h.html">infineon/ifx-error.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ifx-apdu_8h.html">infineon/ifx-apdu.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="ifx-error_8h.html#ac1e04ea3cb51d67fb865a51ed1d13634">ifx_status_t</a> error_code = <a class="code hl_define" href="ifx-error_8h.html#ac65cceb50ebd5dfde1f6433bda70cd83">IFX_ERROR</a>(<a class="code hl_define" href="ifx-apdu_8h.html#a365fec9dc03004cccd8f7053581bb0bc">LIB_APDU</a>, <a class="code hl_define" href="ifx-apdu_8h.html#a594488e1e57d0f2f1ae2175ef860bae9">IFX_APDU_ENCODE</a>, <a class="code hl_define" href="ifx-error_8h.html#a9d23dcc78b672c323a92a1f2a95b781d">IFX_OUT_OF_MEMORY</a>);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="ifx-error_8h.html#a79aadaf46afb0e520494aa22df32053e">ifx_error_check</a>(error_code))</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">switch</span>(<a class="code hl_function" href="ifx-error_8h.html#a4a4e38c7f2acec81c937cd05598097ca">ifx_error_get_module</a>(error_code))</div>
<div class="line">  {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code hl_define" href="ifx-apdu_8h.html#a365fec9dc03004cccd8f7053581bb0bc">LIB_APDU</a>:</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code hl_function" href="ifx-error_8h.html#af02d613e509f68bc20b04972b4d3dfd8">ifx_error_get_function</a>(error_code))</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_define" href="ifx-apdu_8h.html#a594488e1e57d0f2f1ae2175ef860bae9">IFX_APDU_ENCODE</a>:</div>
<div class="line">      <span class="keywordflow">switch</span> (<a class="code hl_function" href="ifx-error_8h.html#a275e815fa1ab943b2526a116045094f1">ifx_error_get_reason</a>(error_code))</div>
<div class="line">      {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_define" href="ifx-error_8h.html#a9d23dcc78b672c323a92a1f2a95b781d">IFX_OUT_OF_MEMORY</a>:</div>
<div class="line">          printf(<span class="stringliteral">&quot;Out of memory during APDU encoding\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">          printf(<span class="stringliteral">&quot;Unknown error during APDU encoding\n&quot;</span>);</div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">      printf(<span class="stringliteral">&quot;Error in unknown APDU function\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">    printf(<span class="stringliteral">&quot;Error in unknown module\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aifx-apdu_8h_html"><div class="ttname"><a href="ifx-apdu_8h.html">ifx-apdu.h</a></div><div class="ttdoc">APDU (response) en-/decoding utility.</div></div>
<div class="ttc" id="aifx-apdu_8h_html_a365fec9dc03004cccd8f7053581bb0bc"><div class="ttname"><a href="ifx-apdu_8h.html#a365fec9dc03004cccd8f7053581bb0bc">LIB_APDU</a></div><div class="ttdeci">#define LIB_APDU</div><div class="ttdoc">IFX error encoding library identifier.</div><div class="ttdef"><b>Definition</b> <a href="ifx-apdu_8h_source.html#l00023">ifx-apdu.h:23</a></div></div>
<div class="ttc" id="aifx-apdu_8h_html_a594488e1e57d0f2f1ae2175ef860bae9"><div class="ttname"><a href="ifx-apdu_8h.html#a594488e1e57d0f2f1ae2175ef860bae9">IFX_APDU_ENCODE</a></div><div class="ttdeci">#define IFX_APDU_ENCODE</div><div class="ttdoc">IFX error encoding function identifier for ifx_apdu_encode().</div><div class="ttdef"><b>Definition</b> <a href="ifx-apdu_8h_source.html#l00074">ifx-apdu.h:74</a></div></div>
<div class="ttc" id="aifx-error_8h_html"><div class="ttname"><a href="ifx-error_8h.html">ifx-error.h</a></div><div class="ttdoc">Infineon specific error code creation and parsing.</div></div>
<div class="ttc" id="aifx-error_8h_html_a275e815fa1ab943b2526a116045094f1"><div class="ttname"><a href="ifx-error_8h.html#a275e815fa1ab943b2526a116045094f1">ifx_error_get_reason</a></div><div class="ttdeci">uint8_t ifx_error_get_reason(ifx_status_t error_code)</div><div class="ttdoc">Extracts function specific reason from error code.</div></div>
<div class="ttc" id="aifx-error_8h_html_a4a4e38c7f2acec81c937cd05598097ca"><div class="ttname"><a href="ifx-error_8h.html#a4a4e38c7f2acec81c937cd05598097ca">ifx_error_get_module</a></div><div class="ttdeci">uint8_t ifx_error_get_module(ifx_status_t error_code)</div><div class="ttdoc">Extracts module identifier from error code.</div></div>
<div class="ttc" id="aifx-error_8h_html_a79aadaf46afb0e520494aa22df32053e"><div class="ttname"><a href="ifx-error_8h.html#a79aadaf46afb0e520494aa22df32053e">ifx_error_check</a></div><div class="ttdeci">bool ifx_error_check(ifx_status_t status_code)</div><div class="ttdoc">Checks if status code indicates error.</div></div>
<div class="ttc" id="aifx-error_8h_html_a9d23dcc78b672c323a92a1f2a95b781d"><div class="ttname"><a href="ifx-error_8h.html#a9d23dcc78b672c323a92a1f2a95b781d">IFX_OUT_OF_MEMORY</a></div><div class="ttdeci">#define IFX_OUT_OF_MEMORY</div><div class="ttdoc">Function independent error reason for out of memory errors.</div><div class="ttdef"><b>Definition</b> <a href="ifx-error_8h_source.html#l00045">ifx-error.h:45</a></div></div>
<div class="ttc" id="aifx-error_8h_html_ac1e04ea3cb51d67fb865a51ed1d13634"><div class="ttname"><a href="ifx-error_8h.html#ac1e04ea3cb51d67fb865a51ed1d13634">ifx_status_t</a></div><div class="ttdeci">uint32_t ifx_status_t</div><div class="ttdoc">Custom return code type used by all Infineon host software libraries.</div><div class="ttdef"><b>Definition</b> <a href="ifx-error_8h_source.html#l00092">ifx-error.h:92</a></div></div>
<div class="ttc" id="aifx-error_8h_html_ac65cceb50ebd5dfde1f6433bda70cd83"><div class="ttname"><a href="ifx-error_8h.html#ac65cceb50ebd5dfde1f6433bda70cd83">IFX_ERROR</a></div><div class="ttdeci">#define IFX_ERROR(module, function, reason)</div><div class="ttdoc">Creates IFX encoded error code for given module, function and reason.</div><div class="ttdef"><b>Definition</b> <a href="ifx-error_8h_source.html#l00084">ifx-error.h:84</a></div></div>
<div class="ttc" id="aifx-error_8h_html_af02d613e509f68bc20b04972b4d3dfd8"><div class="ttname"><a href="ifx-error_8h.html#af02d613e509f68bc20b04972b4d3dfd8">ifx_error_get_function</a></div><div class="ttdeci">uint8_t ifx_error_get_function(ifx_status_t error_code)</div><div class="ttdoc">Extracts function identifier from error code.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="reusable-error-reasons"></a>
Reusable Error Reasons</h1>
<p>This library offers a set of reusable error reasons similar to standard exceptions in other languages.</p>
<p>The following table gives an overview of these values and a quick description for each.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Value   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>0xFF</code>   </td><td class="markdownTableBodyNone"><code>IFX_UNSPECIFIED_ERROR</code>   </td><td class="markdownTableBodyNone">Error without any further information    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>0xFE</code>   </td><td class="markdownTableBodyNone"><code>IFX_OUT_OF_MEMORY</code>   </td><td class="markdownTableBodyNone">Could not allocate memory    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>0xFD</code>   </td><td class="markdownTableBodyNone"><code>IFX_ILLEGAL_ARGUMENT</code>   </td><td class="markdownTableBodyNone">Illegal argument given to function call    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>0xFC</code>   </td><td class="markdownTableBodyNone"><code>IFX_TOO_LITTLE_DATA</code>   </td><td class="markdownTableBodyNone">Too little data available (e.g. in decoding functions)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>0xFB</code>   </td><td class="markdownTableBodyNone"><code>IFX_INVALID_STATE</code>   </td><td class="markdownTableBodyNone">Program (currently) in invalid state    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>0xFA</code>   </td><td class="markdownTableBodyNone"><code>IFX_PROGRAMMING_ERROR</code>   </td><td class="markdownTableBodyNone">Error that should have already been caught by the programmer occurred   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
